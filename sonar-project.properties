# SonarCloud Configuration for PV Monitoring Platform
# https://sonarcloud.io

# Project identification
sonar.projectKey=Thosam1_pv-monitoring-platform
sonar.organization=thosam1
sonar.projectName=PV Monitoring Platform
sonar.projectVersion=1.0.0

# Encoding & Quality Gate
sonar.sourceEncoding=UTF-8
sonar.qualitygate.wait=true

# MONOREPO CONFIGURATION

# Define the modules
sonar.modules=backend,frontend

# NOTE: We deleted 'sonar.sources' from here to prevent the "indexed twice" error.

# Backend Module
backend.sonar.projectBaseDir=backend
backend.sonar.sources=src
# We include 'src' in tests because you might have .spec.ts files inside src
backend.sonar.tests=test,src
backend.sonar.test.inclusions=**/*.spec.ts,**/*.e2e-spec.ts
backend.sonar.exclusions=**/node_modules/**,**/dist/**,**/coverage/**
# Path to coverage report (relative to backend.sonar.projectBaseDir)
backend.sonar.typescript.lcov.reportPaths=coverage/lcov.info

# Frontend Module
frontend.sonar.projectBaseDir=frontend
frontend.sonar.sources=src
frontend.sonar.exclusions=**/node_modules/**,**/dist/**,**/*.test.tsx
# (Optional) Add frontend tests/coverage here later