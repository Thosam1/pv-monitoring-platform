# SonarCloud Configuration for PV Monitoring Platform
# https://sonarcloud.io

# Project identification
sonar.projectKey=Thosam1_pv-monitoring-platform
sonar.organization=thosam1
sonar.projectName=PV Monitoring Platform
sonar.projectVersion=1.0.0

# Source and test directories
sonar.sources=backend/src,frontend/src
sonar.tests=backend/src,backend/test
sonar.test.inclusions=**/*.spec.ts,**/*.e2e-spec.ts

# Exclusions (node_modules, build artifacts, config files)
sonar.exclusions=**/node_modules/**,**/dist/**,**/coverage/**,**/*.config.js,**/*.config.ts

# TypeScript/JavaScript configuration
sonar.typescript.tsconfigPaths=backend/tsconfig.json,frontend/tsconfig.json
sonar.javascript.lcov.reportPaths=backend/coverage/lcov.info

# Encoding
sonar.sourceEncoding=UTF-8

# Quality Gate
# Fail the pipeline if quality gate fails
sonar.qualitygate.wait=true

# Module definitions (for monorepo structure)
# Backend module
sonar.modules=backend,frontend

# Backend module configuration
backend.sonar.projectBaseDir=backend
backend.sonar.sources=src
backend.sonar.tests=src,test
backend.sonar.test.inclusions=**/*.spec.ts,**/*.e2e-spec.ts
backend.sonar.exclusions=**/node_modules/**,**/dist/**

# Frontend module configuration
frontend.sonar.projectBaseDir=frontend
frontend.sonar.sources=src
frontend.sonar.exclusions=**/node_modules/**,**/dist/**
