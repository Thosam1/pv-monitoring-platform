# SonarCloud Configuration for PV Monitoring Platform
# https://sonarcloud.io

# Project identification
sonar.projectKey=Thosam1_pv-monitoring-platform
sonar.organization=thosam1
sonar.projectName=PV Monitoring Platform
sonar.projectVersion=1.0.0

# Encoding & Quality Gate
sonar.sourceEncoding=UTF-8
sonar.qualitygate.wait=true

# -----------------------------------------------------------------
# MONOREPO CONFIGURATION
# -----------------------------------------------------------------
sonar.modules=backend,frontend

# -----------------------------------------------------------------
# 2. Backend Module
# -----------------------------------------------------------------
backend.sonar.projectBaseDir=backend
backend.sonar.sources=src
backend.sonar.tests=test,src
backend.sonar.test.inclusions=**/*.spec.ts,**/*.e2e-spec.ts
backend.sonar.exclusions=**/node_modules/**,**/dist/**,**/coverage/**
backend.sonar.typescript.lcov.reportPaths=coverage/lcov.info

# -----------------------------------------------------------------
# 3. Frontend Module
# -----------------------------------------------------------------
frontend.sonar.projectBaseDir=frontend
frontend.sonar.sources=src
frontend.sonar.exclusions=**/node_modules/**,**/dist/**,**/*.test.tsx,**/*.test.ts

# Frontend coverage report path
frontend.sonar.typescript.lcov.reportPaths=coverage/lcov.info

# Exclude ShadCN UI library code from coverage requirements
# We use **/ matching to ensure it catches the files regardless of base path
frontend.sonar.coverage.exclusions=**/components/ui/**,**/lib/utils.ts,**/vite-env.d.ts,**/test/**,**/main.tsx
frontend.sonar.cpd.exclusions=**/components/ui/**,**/lib/utils.ts